!function(){for(var e,t={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},n={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},a={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},r=1;r<20;++r)t[111+r]="f"+r;for(r=0;r<=9;++r)t[r+96]=r.toString();function o(e){if("keypress"==e.type){var a=String.fromCharCode(e.which);return e.shiftKey||(a=a.toLowerCase()),a}return t[e.which]?t[e.which]:n[e.which]?n[e.which]:String.fromCharCode(e.which).toLowerCase()}function i(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function c(n,a,r){return r||(r=function(){if(!e)for(var n in e={},t)n>95&&n<112||t.hasOwnProperty(n)&&(e[t[n]]=n);return e}()[n]?"keydown":"keypress"),"keypress"==r&&a.length&&(r="keydown"),r}function s(e,t){var n,r,o,s=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),o=0;o<n.length;++o)r=n[o],a[r]&&(r=a[r]),i(r)&&s.push(r);return{key:r,modifiers:s,action:t=c(r,s,t)}}function l(e){var t=this;if(e=e||document,!(t instanceof l))return new l(e);t.target=e,t._callbacks={};var n,a={},r=!1,c=!1,u=!1;function f(e){e=e||{};var t,n=!1;for(t in a)e[t]?n=!0:a[t]=0;n||(u=!1)}function h(e,n,r,o,c,s){var l,u,f,h,p=[],y=r.type;if(!t._callbacks[e])return[];for("keyup"==y&&i(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(u=t._callbacks[e][l],(o||!u.seq||a[u.seq]==u.level)&&y==u.action&&("keypress"==y&&!r.metaKey&&!r.ctrlKey||(f=n,h=u.modifiers,f.sort().join(",")===h.sort().join(",")))){var d=!o&&u.combo==c,m=o&&u.seq==o&&u.level==s;(d||m)&&t._callbacks[e].splice(l,1),p.push(u)}return p}function p(e,t,n){const a=t.target;("esc"==n||"INPUT"!=a.tagName&&"SELECT"!=a.tagName&&"TEXTAREA"!=a.tagName&&!a.isContentEditable)&&(e(),t.preventDefault(),t.stopPropagation())}function y(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=o(e);n&&("keyup"!=e.type||r!==n?t._handleKey.call(t,n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):r=!1)}function d(e,t,i,c){function l(t){return function(){u=t,++a[e],clearTimeout(n),n=setTimeout(f,1e3)}}function h(t){p(i,t,e),"keyup"!==c&&(r=o(t)),setTimeout(f,10)}a[e]=0;for(var y=0;y<t.length;++y){var d=y+1===t.length?h:l(c||s(t[y+1]).action);m(t[y],d,c,e,y)}}function m(e,n,a,r,o){var i,c=(e=e.replace(/\s+/g," ")).split(" ");c.length>1?d(e,c,n,a):(i=s(e,a),t._callbacks[i.key]=t._callbacks[i.key]||[],h(i.key,i.modifiers,{type:i.action},r,e,o),t._callbacks[i.key][r?"unshift":"push"]({callback:n,modifiers:i.modifiers,action:i.action,seq:r,level:o,combo:e}))}t._handleKey=function(e,t,n){var a,r=h(e,t,n),o={},s=0,l=!1;for(a=0;a<r.length;++a)r[a].seq&&(s=Math.max(s,r[a].level));for(a=0;a<r.length;++a)if(r[a].seq){if(r[a].level!=s)continue;l=!0,o[r[a].seq]=1,p(r[a].callback,n,r[a].combo)}else l||p(r[a].callback,n,r[a].combo);var y="keypress"==n.type&&c;n.type!=u||i(e)||y||f(o),c=l&&"keydown"==n.type},t._bindMultiple=function(e,t,n){e.forEach(e=>m(e,t,n))},e.addEventListener("keypress",y),e.addEventListener("keydown",y),e.addEventListener("keyup",y)}l.prototype.bind=function(e,t,n){return this._bindMultiple.call(this,e instanceof Array?e:[e],t,n),this},window.Mousetrap=new l}();