@import 'history';

.puzzle-dashboard {
  .box__top {
    display: flex;
    flex-flow: nowrap;
    justify-content: flex-start;

    // i {
    //   flex: 0 0 auto;
    //   font-size: 4.5em;
    //   margin-inline-end: .5em;
    // }

    h1 {
      flex: 1 1 100%;
      margin: 0;

      strong {
        display: block;
        font-size: 1.5rem;
        font-weight: normal;
      }
    }

    .mselect {
      display: inline-block;
      margin-inline-start: 1ch;
      font-size: 2em;

      &__item {
        font-size: 1.3rem;
        padding: 0.3em 1em 0.3em 0.7em;
      }
    }
  }

  &__empty {
    margin: 8em auto;
    text-align: center;
  }

  &__radar {
    margin-top: 4em;
  }

  &__metrics {
    display: flex;
    gap: 1em;

    @media (max-width: at-most($x-small)) {
      flex-direction: column;
      font-size: 0.7em;
    }
  }

  &__metric {
    @extend %box-neat, %flex-column;

    $glow-gradient: linear-gradient(145deg, rgba(255%, 255%, 255%, 0.3) 0%, transparent 45%);

    align-items: center;
    justify-content: center;
    text-align: center;
    padding: 0.4em 0.7em 0.6em 0.7em;
    text-transform: uppercase;
    flex: 0 0 23.5%;
    cursor: default;

    strong {
      @extend %roboto;

      font-size: 2em;
      line-height: 1.3em;
      font-weight: normal;
    }

    span {
      color: rgba(255%, 255%, 255%, 0.8);
      letter-spacing: -1px;
      font-size: 0.9rem;
    }

    background: $c-bg-zebra2;

    &--win {
      $c-first: $m-secondary_dark--mix-85;
      $c-fix: $m-secondary_dark--mix-50;
      $c-fail: $m-bad_dark--mix-80;

      color: $c-over;

      background:
        #{$glow-gradient},
        linear-gradient(
          to right,
          $c-first 0%,
          $c-first var(---first),
          $c-fix var(---first),
          $c-fix var(---win),
          $c-fail var(---win),
          $c-fail 100%
        );

      @include if-rtl {
        background:
          #{$glow-gradient},
          linear-gradient(
            to left,
            $c-first 0%,
            $c-first var(---first),
            $c-fix var(---first),
            $c-fix var(---win),
            $c-fail var(---win),
            $c-fail 100%
          );
      }
    }

    &--perf {
      background: #{$glow-gradient} $m-brag_dark--mix-85;
      color: $c-over;
    }

    &--fix {
      .puzzle-dashboard__metrics & {
        display: flex;
        flex-flow: row nowrap;
        justify-content: space-evenly;
      }

      color: $c-over;
      opacity: 0.7;

      &[href] {
        opacity: 1;
        cursor: pointer;
        background: #{$glow-gradient} $m-primary_dark--mix-80;

        &:hover {
          background: #{$glow-gradient} $c-primary;
          color: $c-over;
        }
      }

      &:not([href]) {
        background: none;
        box-shadow: none;
        opacity: 1;

        i {
          opacity: 1;
          color: $m-primary_bg--mix-70;
          position: absolute;
          font-size: 5.5em !important;
          margin-bottom: 0.2em;
        }
      }

      &__text {
        @extend %flex-column;

        align-items: center;
      }

      i {
        font-size: 4em;
        opacity: 0.8;
        color: $c-over;
      }
    }

    @include if-light {
      &--played span {
        color: $c-font-dim !important;
      }
    }
  }

  &__global .puzzle-dashboard__metric {
    padding: 1em 1em 1.5em 1em;
    border-radius: 8px;

    strong {
      font-size: 5em;
    }

    span {
      color: rgba(255%, 255%, 255%, 0.8);
      letter-spacing: 2px;
      font-size: 1rem;
    }
  }

  &__themes {
    margin-top: 6vh;

    &__title {
      h2 {
        @include fluid-size('font-size', 20px, 40px);
      }

      font-size: 1.2em;
      margin-bottom: 4vh;
    }
  }

  &__theme {
    @extend %flex-center;

    margin-top: 2vh;

    &__meta {
      flex: 1 1 40%;
      margin-inline-end: 3vw;
    }

    &__name {
      font-size: 1.5em;
      font-weight: bold;
      text-transform: uppercase;
    }

    &__description {
      color: $c-font-dim;
    }

    .puzzle-dashboard__metrics {
      flex: 1 1 50ch;
    }

    .puzzle-dashboard__metric--fix {
      i {
        font-size: 1.6em;
        margin-inline-start: 0.3em;
      }
    }
  }
}
