@include mq-is-col1 {
  .analyse__tools {
    .ceval .switch {
      display: none;
    }
    .sub-box {
      order: 0;
    }
    .ceval,
    .pv_box,
    .analyse__fork,
    .gamebook-edit {
      order: 1;
    }
    .analyse__moves {
      order: 2;
    }
  }
  .analyse__controls {
    padding-top: 6px;
    height: 5rem;
    touch-action: pan-y;

    .fbt {
      flex: 3;
      margin: 3px 2px 0;
      border: 1px solid $m-clearer--fade-95;
      border-bottom: none;
      border-radius: 6px 6px 0 0;
      background: $m-bg_bg-page--mix-50;
    }
    .jumps {
      flex: 40%;
      order: 1;
    }
    .fbt[data-act='opening-explorer'] {
      order: 2;
    }
    .fbt[data-act='menu'] {
      order: 3;
    }
    .fbt.active {
      padding-top: 0;
      border-bottom: none;
    }
    .jumps .fbt {
      margin: 5px 3px;
      background: $m-bg_bg-page--mix-50;
      border: 1px solid $m-clearer--fade-95;
    }
    .fbt[data-mode] {
      position: relative;
      overflow-x: hidden;
      min-width: 24vw;
      max-width: 24vw;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-inline: 13px;
      text-shadow: none;
    }
    .fbt[data-mode]::before,
    .fbt[data-mode]::after {
      font-size: 1.3em;
      font-family: 'lichess';
    }
    .fbt[data-mode='practice']::before {
      content: $licon-Bullseye;
    }
    .fbt[data-mode='retro']::before {
      font-size: 1.5em;
      content: $licon-GraduateCap;
    }
    .fbt[data-mode='practice'].active::after,
    .fbt[data-mode='retro'].active::after {
      position: absolute;
      top: -2px;
      right: 1px;
      font-size: 0.9em;
      color: $c-bg;
      content: $licon-X;
    }
    .fbt[data-mode='ceval']::after {
      content: $licon-Stockfish;
    }
    .fbt[data-mode='ceval']:has(eval)::after {
      content: '';
    }
    .fbt[data-mode]:not(.active, .latent) .bar {
      position: absolute;
      left: 0;
      right: 0;
      top: 0;
      height: 5px;
      opacity: 0;
      transition: opacity 0.6s ease-in-out;
      animation: computing 1.6s linear reverse infinite paused;
      background:
        linear-gradient(to bottom, $m-good--fade-90, $m-good--fade-30, $m-good--fade-90) 0 0 / 100% 100%
          no-repeat,
        linear-gradient(45deg, transparent, $m-good--fade-30, transparent) -100% 0 / 200% 100% no-repeat;
    }
    .fbt[data-mode].computing:not([data-mode='ceval'].active) .bar {
      opacity: 1;
      animation-play-state: running;
    }
    @keyframes computing {
      to {
        background-position:
          0 0,
          200% 0;
      }
    }
  }
  .analyse[data-active-tool] .analyse__tools,
  .analyse[data-active-mode] .analyse__tools {
    border-radius: 0 0 $box-radius-size $box-radius-size;
  }
  .analyse[data-active-tool] .analyse__tools,
  .analyse[data-active-mode='practice'] .analyse__tools,
  .analyse[data-active-mode='retro'] .analyse__tools {
    border-top: 3px solid $c-secondary;
  }
  // .analyse:not([data-mode='ceval']) {
  //   .analyse__moves {
  //     border-top: none;
  //   }
  // }
  .analyse[data-active-mode='practice'] .analyse__fork,
  .analyse[data-active-mode='retro'] .analyse__fork {
    display: none;
  }
  .fbt[data-mode='ceval'] .switch {
    width: 24px;
  }
  #analyse-toggle-ceval + label {
    background-color: $c-font-dimmer;
    width: 24px;
    height: 33px;
  }
  #analyse-toggle-ceval + label::before,
  #analyse-toggle-ceval + label::after {
    top: 0;
    margin-top: 9px;
  }

  #analyse-toggle-ceval:checked + label::before,
  #analyse-toggle-ceval:checked + label::after {
    margin: 0;
  }
}
